{{ define "title" }}RepLog â€” {{ if .Program }}Edit {{ .Program.Name }}{{ else }}New Program{{ end }}{{ end }}

{{ define "content" }}
        <div class="breadcrumb">
            <a href="/programs">Programs</a> &rsaquo; {{ if .Program }}Edit{{ else }}New{{ end }}
        </div>

        <h1>{{ if .Program }}Edit {{ .Program.Name }}{{ else }}New Program Template{{ end }}</h1>

        {{ if .Error }}
        <div class="alert alert-error" role="alert">{{ .Error }}</div>
        {{ end }}

        <form method="POST" action="{{ if .Program }}/programs/{{ .Program.ID }}{{ else }}/programs{{ end }}">
            <label for="name">Name
                <input type="text" id="name" name="name" required
                       value="{{ if .Program }}{{ .Program.Name }}{{ end }}"
                       placeholder="e.g. 5/3/1 BBB, GZCL T1/T2/T3">
            </label>

            <label for="description">Description
                <textarea id="description" name="description" rows="2"
                          placeholder="Brief description of the program structure">{{ if .Program }}{{ if .Program.Description.Valid }}{{ .Program.Description.String }}{{ end }}{{ end }}</textarea>
            </label>

            <div class="grid">
                <label for="num_weeks">Weeks per Cycle
                    <input type="number" id="num_weeks" name="num_weeks" min="1" max="52" required
                           value="{{ if .Program }}{{ .Program.NumWeeks }}{{ else }}4{{ end }}">
                </label>

                <label for="num_days">Training Days per Week
                    <input type="number" id="num_days" name="num_days" min="1" max="7" required
                           value="{{ if .Program }}{{ .Program.NumDays }}{{ else }}4{{ end }}">
                </label>
            </div>

            <label>
                <input type="checkbox" id="is_loop" name="is_loop" value="1"
                       {{ if .Program }}{{ if .Program.IsLoop }}checked{{ end }}{{ end }}>
                Continuous Loop
                <small class="text-muted">Program repeats indefinitely until manually deactivated</small>
            </label>

            <div class="form-actions">
                <button type="submit">{{ if .Program }}Save Changes{{ else }}Create Program{{ end }}</button>
                <a href="/programs" role="button" class="secondary">Cancel</a>
            </div>
        </form>
{{ end }}
