{{ define "title" }}RepLog â€” Import Preview{{ end }}

{{ define "content" }}
        <div class="breadcrumb">
            <a href="/athletes">Athletes</a> &rsaquo; <a href="/athletes/{{ .Athlete.ID }}">{{ .Athlete.Name }}</a> &rsaquo; <a href="/athletes/{{ .Athlete.ID }}/import">Import</a> &rsaquo; Preview
        </div>

        <div class="page-header">
            <h1>Import Preview</h1>
        </div>

        <article>
            <header>
                <h3>Summary</h3>
            </header>

            <table>
                <tbody>
                    <tr>
                        <td>Exercises</td>
                        <td>{{ .Preview.ExerciseCount }}</td>
                    </tr>
                    <tr>
                        <td>Workouts</td>
                        <td>{{ .Preview.WorkoutCount }}</td>
                    </tr>
                    {{ if .IsRepLogJSON }}
                    <tr>
                        <td>Equipment</td>
                        <td>{{ .Preview.EquipmentCount }}</td>
                    </tr>
                    <tr>
                        <td>Assignments</td>
                        <td>{{ .Preview.AssignmentCount }}</td>
                    </tr>
                    <tr>
                        <td>Programs</td>
                        <td>{{ .Preview.ProgramCount }}</td>
                    </tr>
                    {{ end }}
                    <tr>
                        <td>Training Maxes</td>
                        <td>{{ .Preview.TrainingMaxCount }}</td>
                    </tr>
                    <tr>
                        <td>Body Weights</td>
                        <td>{{ .Preview.BodyWeightCount }}</td>
                    </tr>
                </tbody>
            </table>

            {{ if .Preview.DateRange }}
            <p>Date range: <strong>{{ .Preview.DateRange }}</strong></p>
            {{ end }}

            {{ if .Preview.ConflictDates }}
            <details>
                <summary>{{ len .Preview.ConflictDates }} date conflict{{ if ne (len .Preview.ConflictDates) 1 }}s{{ end }} (workouts on these dates will be skipped)</summary>
                <ul>
                    {{ range .Preview.ConflictDates }}
                    <li>{{ . }}</li>
                    {{ end }}
                </ul>
            </details>
            {{ end }}
        </article>

        <div class="page-actions">
            <a href="/athletes/{{ .Athlete.ID }}/import/map" role="button" class="outline secondary">Back to Mapping</a>
            <form method="POST" action="/athletes/{{ .Athlete.ID }}/import/execute" class="inline">
                <input type="hidden" name="csrf_token" value="{{ .CSRFToken }}">
                <button type="submit" hx-confirm="This will import the data. Continue?">Confirm Import</button>
            </form>
        </div>
{{ end }}
